<!DOCTYPE html>
<html>  
    <head>
        <title> Rock Paper Scissor </title>    
    </head>
    <body>
        <p>Rock Paper Scissor</p>

        <!--Rock Button-->
        <button onclick="
        playGame('rock');
        ">Rock</button>

          <!--Paper Button-->
        <button onclick="playGame('paper');" 
        >Paper</button>

        <!-- scissor button-->
        <button onclick="
        playGame('Scissor');"
        >Scissor</button>

        <!--ResetButton-->
        <button onclick="
        score.wins=0;
        score.losses=0;
        score.ties=0;
        localStorage.removeItem('score');
        ">Reset Score</button>
        
        <script>

            let score =JSON.parse(localStorage.getItem('score')) || {
                    wins:0,
                    losses:0,
                    ties:0
                };

            /*if(!score){
                score={
                    wins:0,
                    losses:0,
                    ties:0
                };
            }*/

           // JSON.parse(localStorage.getItem('score'));
            function playGame(playerMove)
            {
                    const computerMove= pickComputerMove();
                    console.log(computerMove);
                    let result ='';
                if(playerMove==='Scissor')
                {    

                    if(computerMove==='rock'){
                    result ='You Lose';
                        }
                    else if( computerMove==='paper'){
                    result='You Win';
                    }
                    else if(computerMove==='Scissor'){
                    result='Tie';
                    }
                }

                else if(playerMove==='paper')
                {
                    if(computerMove==='rock'){
                        result ='You Win';
                    }
                    else if( computerMove==='paper')
                    {
                        result='Tie';
                    }
                    else if(computerMove==='Scissor')
                    {
                        result='You Lose';
                    }

                }
                
                else if(playerMove==='rock')
                {
                    if(computerMove==='rock'){
                        result ='Tie';
                    }
                    else if( computerMove==='paper')
                    {
                        result='You Lose';
                    }
                    else if(computerMove==='Scissor')
                    {
                        result='You Win';
                    }
                }
                if(result==='You Win'){
                    score.wins=score.wins+1;
                }
                else if(result==='You Lose'){
                    score.losses=score.losses+1;
                }
                else if(result==='Tie'){
                    score.ties=score.ties+1;
                }

                localStorage.setItem('score',JSON.stringify(score));

               // console.log(localStorage.getItem('message'));

                alert(`you picked ${playerMove}. computer picked ${computerMove}.${result}
Wins:${score.wins},Losses:${score.losses},Ties:${score.ties}`);
            }
            function pickComputerMove()
            {
                let computerMove='';
                const randomNumber=Math.random();
                if(randomNumber>=0 && randomNumber<1/3){
                     computerMove='rock';
                    }
                else if(randomNumber>=1/3 && randomNumber<2/3){
                     computerMove='paper';
                    }
                else if(randomNumber>=2/3 && randomNumber<1){
                     computerMove='Scissor';
                    }
                    return computerMove;
            }
        </script>
    </body>
</html>
